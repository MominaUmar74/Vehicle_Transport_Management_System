\documentclass[12pt,a4paper]{article} % changed from report to article

% ==================== PACKAGES ====================
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{grffile} % allows spaces & parentheses in filenames
\usepackage{geometry}
\usepackage{array}
\usepackage{longtable}
\usepackage{float} % for [H] placement
\usepackage{titlesec} % control section spacing
\usepackage{hyperref}
\geometry{margin=1in}


\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=cyan,
    citecolor=blue,
    filecolor=blue,
    linktoc=all
}

% Reduce spacing before and after sections
\titlespacing*{\section}{0pt}{*2}{*1}
\titlespacing*{\subsection}{0pt}{*1.5}{*0.5}

% Command for full-page portrait figures
\newcommand{\fullpagefigure}[2]{
    \begin{figure}[!p] % force figure on its own page
        \centering
        \includegraphics[width=\textwidth,height=0.95\textheight,keepaspectratio]{#1}
        \caption{#2}
    \end{figure}
    \clearpage
}

\begin{document}

% ==================== TITLE PAGE ====================
\begin{titlepage}
    \centering
    \vspace*{1cm}

    \includegraphics[width=0.4\textwidth]{logo.png}\\[1.5cm]

    {\Huge\bfseries Project Milestone 3\\[0.5cm]}
    {\Large Vehicle Transport Management System (VTMS)\\[1cm]}

    \textbf{Prepared by:}\\[0.3cm]
    Tahira Hanif \hfill NUM-BSCS2024-16\\
    Momina Umar \hfill NUM-BSCS2024-36\\
    Mubashir Hassan \hfill NUM-BSCS2024-37\\[0.6cm]

    \textbf{Course:} Software Engineering\\
    \textbf{Instructor:} Asia Batool\\[2cm]

    \textbf{Date:} \today
    \vfill
\end{titlepage}

\tableofcontents
\newpage

% ==================== INTRODUCTION ====================
\section{Introduction}
The Vehicle Transport Management System (VTMS) Milestone 3 Design Report documents the complete system architecture derived from the IEEE 830-1998 compliant Software Requirements Specification (SRS FR1--FR13). The report translates functional requirements into UML design artifacts including Use Case, multi-level Data Flow Diagrams, Sequence Diagrams, Activity Diagrams, Class Diagram, and Component Diagram. An interactive Figma prototype demonstrates the direct order workflow (Terms $\rightarrow$ Vehicle Details $\rightarrow$ 30\% Advance Payment $\rightarrow$ Tracking ID) for four system actors.

% ==================== ASSUMPTIONS & CONSTRAINTS ====================
\section{Design Assumptions and Constraints}

\subsection{Design Assumptions}
\begin{itemize}
    \item Payment gateways are reliable and PCI-DSS compliant
    \item Transport managers update shipment status in a timely manner
    \item Vehicle buyers accept system terms before paying 30\% advance
    \item Notification services are reliable
    \item A fixed 50\% pre-shipment refund policy is acceptable
    \item All users have valid email addresses
    \item System is accessed via modern web browsers
    \item No vehicle inventory management is required
\end{itemize}

\subsection{Design Constraints}

\subsubsection{Technical Constraints}
\begin{itemize}
    \item Web-based system using RESTful architecture
    \item Relational database MySQL
    \item Third-party payment integration required
\end{itemize}

\subsubsection{Performance Constraints}
\begin{itemize}
    \item Page load time within 3 seconds (95th percentile)
    \item Payment processing within 10 seconds
    \item System capacity for 100 concurrent users
\end{itemize}

\subsubsection{Security and Regulatory Constraints}
\begin{itemize}
    \item HTTPS and Role-Based Access Control required
    \item PCI-DSS compliance for all payment operations
    \item GDPR compliance for user data
    \item Compliance with international vehicle export regulations
\end{itemize}

% ==================== KEY DESIGN DECISIONS ====================
\section{Key Design Decisions}

\subsection{Direct Order Workflow}
\textbf{Decision}: Linear workflow without inventory browsing\\
\textbf{Justification}: Reduces system complexity and aligns with export-based business model

\subsection{Centralized Order Entity}
\textbf{Decision}: Single Order entity managing all related operations\\
\textbf{Justification}: Ensures data consistency, traceability, and simplified state management

\subsection{Event-Driven Notifications}
\textbf{Decision}: Automatic notifications triggered on order status changes\\
\textbf{Justification}: Enables real-time communication and reduces manual coordination

\subsection{Fixed Refund Policy}
\textbf{Decision}: Automatic 50\% refund before shipment\\
\textbf{Justification}: Simplifies financial workflows and enforces business rules

\subsection{Role-Based Dashboards}
\textbf{Decision}: Four actor-specific dashboards post-login\\
\textbf{Justification}: Information hiding, task-focused interface, enhanced usability

\subsection{3-Level DFD Decomposition}
\textbf{Decision}: Context $\rightarrow$ Level 1 (6 processes) $\rightarrow$ Level 2 (Order Processing detail)\\
\textbf{Justification}: Systematic decomposition ensures traceability to all SRS functional requirements

% ==================== SYSTEM DESIGN DIAGRAMS ====================
\section{System Design Diagrams}

\subsection{Use Case Diagram}
\begin{figure}[!p]
    \centering
    \includegraphics[width=\textwidth,height=0.95\textheight,keepaspectratio]{usee.png}
    \caption{Use Case Diagram}
\end{figure}
\clearpage

\subsection{Data Flow Diagrams}
\subsubsection{Context Diagram}
\fullpagefigure{dfd.png}{Context Diagram}

\subsubsection{Level 1 DFD}
\fullpagefigure{DFD Level 1.png}{Level 1 Data Flow Diagram}

\subsubsection{Level 2 DFD}
\fullpagefigure{dfd2.pdf}{Level 2 Data Flow Diagram}

\subsection{Sequence Diagram}
\fullpagefigure{Sequnce_Diagram_VTMS.jpg}{Sequence Diagram for Order Processing}

\subsection{Activity Diagrams}
\fullpagefigure{Activity_Diagram.png}{Order Workflow Activity Diagram}
\fullpagefigure{Activity Payment.png}{Payment Workflow Activity Diagram}
\fullpagefigure{ShipmentTracking.png}{Shipment and Tracking Activity Diagram}
\fullpagefigure{Activity Order Cancel.png}{Order Cancellation Activity Diagram}

\subsection{Class Diagram}
\fullpagefigure{VTMS-ClassDiagram.png}{Class Diagram}

\subsection{Component Diagram}
\fullpagefigure{Component_Diagram.png}{Component Diagram}

% ==================== REQUIREMENTS-DESIGN TRACEABILITY ====================
\section{VTMS Requirements-Design Traceability Matrix (No DFD0)}

\begin{table}[H]
\centering
\resizebox{\textwidth}{!}{
\begin{tabular}{|c|p{3.2cm}|c|c|c|c|c|c|}
\hline
\textbf{SRS ID} & \textbf{Requirement} & \textbf{Use Case} & \textbf{Activity} & \textbf{Sequence} & \textbf{Class} & \textbf{DFD Level} & \textbf{Component} \\
\hline
FR0 & User Registration/Login & UC0 & - & SD1 & UserAccount & - & Web Frontend \\
\hline
FR1 & Order Initiation & UC1 & AD1 & SD1 & Order & DFD1 & Web Frontend \\
FR2 & Terms Agreement & UC1 & AD1 & SD1 & Order & DFD1 & Web Frontend \\
FR3 & Vehicle + 30\% Calc & UC1 & AD1 & SD1 & Order, Payment & DFD1 & Web Frontend \\
FR4 & Advance Payment & UC1 & AD1 & SD1 & Payment & DFD2 & Payment Gateway \\
FR5 & Tracking ID & UC1 & AD1 & SD1 & Tracking & DFD1 & Database \\
\hline
FR6 & Cancel Order & UC5 & AD4 & SD3 & Refund & DFD3 & Web Frontend \\
FR7 & 50\% Refund & UC5 & AD4 & SD3 & Refund & DFD2 & Payment Gateway \\
\hline
FR8 & Shipment Update & UC3 & AD3 & SD2 & Shipment & DFD1 & Database \\
FR9 & Auto-Notify & UC3 & AD3 & SD2 & Notification & - & Email Service \\
FR10 & Delivery Confirm & UC4 & - & SD4 & Shipment & DFD1 & Database \\
FR11 & Final Payment & UC2 & - & SD4 & Payment & DFD2 & Payment Gateway \\
FR12 & Transport Dashboard & UC3 & AD3 & SD2 & TransportManager & DFD1 & Web Frontend \\
\hline
FR13 & Admin Control & UC7 & - & - & Administrator & - & Web Frontend \\
\hline
\end{tabular}
}
\end{table}
\section{External Links}
\begin{itemize}
    \item GitHub Repository: \url{https://github.com/MominaUmar74/Vehicle_Transport_Management_System}
    \item Figma Prototype: \url{https://www.figma.com/community/file/1594775358558253744/vehicle-transport-management-system}
    \item Component Diagram: \url{https://drive.google.com/file/d/1w3I8YHMO7Xnd2BCQXHnyN53aOaGOVqu5/view?usp=sharing}
    \item Sequence Diagram: \url{https://lucid.app/lucidchart/314ba7ca-dbd0-4e8d-9c1d-8ef03fcb97a9/edit?viewport_loc=-2668%2C1176%2C5244%2C2572%2C0_0&invitationId=inv_0165d610-908c-44cb-a794-cd9d2a8daf49}
    \item DFD Level 1: \url{https://app.diagrams.net/?src=about#G1IBa3PPwJkU8muPNEltYAi7M4sujmwXEu#%7B%22pageId%22%3A%22wzwxThsYBGVyAbvD41E5%22%7D}
    \item DFD Level 2: \url{https://lucid.app/lucidchart/f0ccf000-2737-42cf-b963-78265e91edd5/edit?viewport_loc=-4267%2C-2051%2C4318%2C1846%2C0_0&invitationId=inv_5cbe917d-ed50-474d-aa4b-0bafb094d52f}
    \item Activity Diagrams:
    \item Shipment and tracking\url{https://lucid.app/lucidchart/f0ccf000-2737-42cf-b963-78265e91edd5/edit?viewport_loc=-4267%2C-2051%2C4318%2C1846%2C0_0&invitationId=inv_5cbe917d-ed50-474d-aa4b-0bafb094d52f}
    \item Order work flow \url{https://app.diagrams.net/?src=about}
    \item Order initiate and Payment\url{https://lucid.app/lucidchart/cc8ad20d-f2b1-4f3a-8aca-c7a8adb1a6f3/edit?viewport_loc=-3295%2C-4191%2C5366%2C2294%2C0_0&invitationId=inv_8dc33a94-e1e1-45b9-ae1c-bba582d955e1}
    \item Cancel Order \url{https://lucid.app/lucidchart/38fe5a14-3d99-437b-b470-415166804e94/edit?viewport_loc=-3302%2C1569%2C3966%2C1696%2C0_0&invitationId=inv_c8717c07-d12c-4504-9935-e2ad08b41b76}
\end{itemize}

\end{document}
